<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
            crossorigin="anonymous">
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
            crossorigin="anonymous"></script>

            <link rel="stylesheet" href="style.css">
</head>
<body>

    <nav class="navbar bg-body-tertiary" data-bs-theme="dark">
        <div class="container-fluid">
          <a class="navbar-brand">Teacher Portal</a>
          <ul class="nav justify-content-end" >
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="#">Sign-up</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" onclick="log()">Login</a>
            </li>
            
          </ul>
        </div>
      </nav>

    
    <div class="regesterForm" >
        <form class="form1" id="dashbord" >
            
    
            <h2 class="Text">Teachers Dashbord</h2>

            <h6 class="Text1">Change Password</h6>
    
            <input type="text" name="name" id="oldpass" placeholder="Enter Old Password" required><span class="formerror"></span><br><br>

            <input type="text" name="name" id="newpass" placeholder="Enter new Password " required><span class="formerror"></span><br><br>

            <input type="text" name="name" id="confirmpass" placeholder="Confirm Password" required><span class="formerror"></span><br><br>

            <button class="btn btn-dark" type="submit">Change</button>
            
            
        </form>
        <button class="btn btn-dark" onclick="myFun()">Logout</button>
        
    </div>


    <script>
        let dashbord = document.getElementById('dashbord');
        let oldpass = document.getElementById('oldpass')
        let newpass = document.getElementById('newpass')
        let confirmpass = document.getElementById('confirmpass');
        let data = localStorage.users;
      let convData = JSON.parse(data);

        dashbord.addEventListener('submit', ()=>{
          event.preventDefault();
          if(oldpass.value!=convData[0].password){
            console.log('Invalid password');
          }else if(oldpass.value==convData[0].password && newpass.value==confirmpass.value){
            convData[0].password = confirmpass.value;

            let newData = JSON.stringify(convData);
            localStorage.setItem('users', newData);
          }else{
          console.log('New password does not match');
        }
        })

        function myFun() {
          window.location.href = './login.html'
        }
       
    </script>
</body>
</html>
